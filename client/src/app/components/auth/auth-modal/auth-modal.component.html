<div
        class="relative z-20"
        aria-labelledby="modal-title"
        role="dialog"
        aria-modal="true"
        [hidden]="!authService.isOpen"
>
    <!-- Backdrop -->
    <div
        (mousedown)="authService.closeModal()"
        *ngIf="authService.isOpen"
        class="fixed inset-0 bg-gray-500/75 transition-opacity ease-out duration-200 opacity-100"
        aria-hidden="true"
    ></div>

    <div class="fixed inset-0 z-20 w-screen overflow-y-auto flex items-center justify-center">
        <!-- Modal Panel -->
        <div
                [ngClass]="{
        'opacity-100 translate-y-0 sm:scale-100 transition ease-out duration-300': authService.isOpen,
        'opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 transition ease-in duration-200': !authService.isOpen
      }"
                class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl sm:w-full sm:max-w-md modal-container"
        >
            <!-- Modal content -->
            <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <!-- Red X close button -->
                <button (click)="authService.closeModal()" class="absolute top-0 right-0 m-2 text-red-600 text-xl font-bold">
                    &times;
                </button>
                <h3 class="text-lg font-semibold text-gray-900" id="modal-title">
                    {{ isLoginMode ? 'Login' : 'Register' }}
                </h3>
                <div class="mt-2">
                    <input
                            *ngIf="!isLoginMode"
                            [(ngModel)]="username"
                            type="text"
                            placeholder="Username"
                            class="w-full px-3 py-2 border rounded-lg"
                    />
                    <input [(ngModel)]="email" type="email" placeholder="Email" class="w-full mt-2 px-3 py-2 border rounded-lg" />
                    <input [(ngModel)]="password" type="password" placeholder="Password" class="w-full mt-2 px-3 py-2 border rounded-lg" />
                </div>
            </div>
            <div class="bg-gray-50 px-4 py-3 flex justify-between">
                <button (click)="submit()" class="px-4 py-2 bg-blue-600 text-white rounded-lg">
                    {{ isLoginMode ? 'Login' : 'Register' }}
                </button>
                <button (click)="toggleMode()" class="text-sm text-blue-600">
                    {{ isLoginMode ? 'Need an account?' : 'Already have an account?' }}
                </button>
            </div>
        </div>
    </div>
</div>
